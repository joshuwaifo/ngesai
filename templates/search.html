{% extends "layout.html" %}

{% block content %}
<section class="py-4">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="mb-0" data-i18n="kb_search">Search Knowledge Base</h1>
        </div>
        
        <div class="card bg-card mb-4">
            <div class="card-body">
                <form method="POST" action="{{ url_for('search') }}" id="searchForm">
                    {{ form.hidden_tag() }}
                    
                    <div class="input-group">
                        {% if form.search_query.errors %}
                            {{ form.search_query(class="form-control is-invalid", placeholder="Search the knowledge base...") }}
                            <button class="btn btn-primary" type="submit" data-i18n="btn_search">Search</button>
                            <div class="invalid-feedback">
                                {% for error in form.search_query.errors %}
                                    {{ error }}
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.search_query(class="form-control", placeholder="Search the knowledge base...") }}
                            <button class="btn btn-primary" type="submit" data-i18n="btn_search">Search</button>
                        {% endif %}
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Search Suggestions -->
        <div class="card bg-card mb-4">
            <div class="card-header">
                <h5 class="mb-0">Popular Searches</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <div class="d-flex">
                            <div class="bg-primary bg-opacity-10 p-2 rounded-3 me-3">
                                <i class="fas fa-gamepad fs-4 text-primary"></i>
                            </div>
                            <div>
                                <h6 class="mb-1">Popular Games</h6>
                                <div class="d-flex flex-wrap gap-2">
                                    <a href="{{ url_for('search', q='PUBG Mobile') }}" class="badge bg-secondary text-decoration-none">PUBG Mobile</a>
                                    <a href="{{ url_for('search', q='Fortnite') }}" class="badge bg-secondary text-decoration-none">Fortnite</a>
                                    <a href="{{ url_for('search', q='FIFA') }}" class="badge bg-secondary text-decoration-none">FIFA</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4 mb-3">
                        <div class="d-flex">
                            <div class="bg-success bg-opacity-10 p-2 rounded-3 me-3">
                                <i class="fas fa-users fs-4 text-success"></i>
                            </div>
                            <div>
                                <h6 class="mb-1">Organizations</h6>
                                <div class="d-flex flex-wrap gap-2">
                                    <a href="{{ url_for('search', q='Savvy Games Group') }}" class="badge bg-secondary text-decoration-none">Savvy Games Group</a>
                                    <a href="{{ url_for('search', q='Saudi Esports Federation') }}" class="badge bg-secondary text-decoration-none">Saudi Esports Federation</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4 mb-3">
                        <div class="d-flex">
                            <div class="bg-info bg-opacity-10 p-2 rounded-3 me-3">
                                <i class="fas fa-calendar-alt fs-4 text-info"></i>
                            </div>
                            <div>
                                <h6 class="mb-1">Events</h6>
                                <div class="d-flex flex-wrap gap-2">
                                    <a href="{{ url_for('search', q='Esports World Cup') }}" class="badge bg-secondary text-decoration-none">Esports World Cup</a>
                                    <a href="{{ url_for('search', q='Gamers8') }}" class="badge bg-secondary text-decoration-none">Gamers8</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Categories -->
        <div class="card bg-card">
            <div class="card-header">
                <h5 class="mb-0">Browse by Category</h5>
            </div>
            <div class="card-body">
                <div class="row g-4">
                    <div class="col-md-4 col-sm-6">
                        <a href="{{ url_for('knowledge_base', category='market_data') }}" class="text-decoration-none">
                            <div class="kb-category-card">
                                <div class="kb-category-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <h5 class="mb-2" data-i18n="kb_market_data">Market Data</h5>
                                <p class="text-muted mb-0 small">Revenue, demographics, and game preferences</p>
                            </div>
                        </a>
                    </div>
                    
                    <div class="col-md-4 col-sm-6">
                        <a href="{{ url_for('knowledge_base', category='regulatory') }}" class="text-decoration-none">
                            <div class="kb-category-card">
                                <div class="kb-category-icon">
                                    <i class="fas fa-balance-scale"></i>
                                </div>
                                <h5 class="mb-2" data-i18n="kb_regulatory">Regulatory Frameworks</h5>
                                <p class="text-muted mb-0 small">Government initiatives and policies</p>
                            </div>
                        </a>
                    </div>
                    
                    <div class="col-md-4 col-sm-6">
                        <a href="{{ url_for('knowledge_base', category='companies') }}" class="text-decoration-none">
                            <div class="kb-category-card">
                                <div class="kb-category-icon">
                                    <i class="fas fa-building"></i>
                                </div>
                                <h5 class="mb-2" data-i18n="kb_companies">Company Profiles</h5>
                                <p class="text-muted mb-0 small">Developers, teams, and organizers</p>
                            </div>
                        </a>
                    </div>
                    
                    <div class="col-md-4 col-sm-6">
                        <a href="{{ url_for('knowledge_base', category='talent') }}" class="text-decoration-none">
                            <div class="kb-category-card">
                                <div class="kb-category-icon">
                                    <i class="fas fa-user-graduate"></i>
                                </div>
                                <h5 class="mb-2" data-i18n="kb_talent">Talent Database</h5>
                                <p class="text-muted mb-0 small">Players, coaches, and content creators</p>
                            </div>
                        </a>
                    </div>
                    
                    <div class="col-md-4 col-sm-6">
                        <a href="{{ url_for('knowledge_base', category='events') }}" class="text-decoration-none">
                            <div class="kb-category-card">
                                <div class="kb-category-icon">
                                    <i class="fas fa-calendar-day"></i>
                                </div>
                                <h5 class="mb-2" data-i18n="kb_events">Events</h5>
                                <p class="text-muted mb-0 small">Tournaments, conferences, and exhibitions</p>
                            </div>
                        </a>
                    </div>
                    
                    <div class="col-md-4 col-sm-6">
                        <a href="{{ url_for('knowledge_base', category='research') }}" class="text-decoration-none">
                            <div class="kb-category-card">
                                <div class="kb-category-icon">
                                    <i class="fas fa-flask"></i>
                                </div>
                                <h5 class="mb-2" data-i18n="kb_research">Research</h5>
                                <p class="text-muted mb-0 small">Academic research and industry reports</p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
